import{j as e,aE as C,m as J,q as Q,D as Z,o as ee,p as te,s as ae,O as se,r as c,S as ne,b as re,aF as _,aG as L,t as P,aH as ie,aI as oe,aJ as de}from"./vendor-Oy3yQvpb.js";import{r as M,e as D,b as le,u as k,N as ce,O as ue,f as pe,R as he,L as w}from"./vendor-router-BOglXYhN.js";import{P as me}from"./vendor-redux-BIS1gR2s.js";import{s as h,a as fe,r as xe,c as ge,t as be,p as je,e as ve,m as we,b as ye,u as T,T as Ne,d as Se,f as Ce,g as _e,h as E,A as ke,i as Me,j as De,k as Ee,D as Pe,l as Re,n as Ae,o as Le,q as Te,S as Ie,R as Oe,M as ze,E as Be,P as qe,v as Ke,w as Fe,C as He,U as Ge,x as Ue,y as $e,z as Ve,B as We,F as Ye,G as Xe}from"./page-crm-L1dbnvqx.js";import{s as I,a as Je,o as Qe,F as Ze,R as et,A as tt,d,B as O,p as at,q as st,D as z,t as B,v as q,w as K,f as nt,x as rt,S as it,e as ot,M as dt,T as lt}from"./page-auth-CMfUnlWq.js";import{X as ct,o as ut,p as pt,q as ht,r as mt,T as ft,a as xt,s as F,j as gt,t as H}from"./vendor-ui-CTTbLvAw.js";import{E as bt}from"./page-error-Dta8JTNW.js";import{A as jt}from"./page-account-C3M0tmcp.js";import"./vendor-date-fns-BWtotJsy.js";import"./vendor-libphonenumber-js-1k7QeoIm.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();function G(){return e.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:e.jsx("p",{children:"Global Loading..."})})}const vt=async()=>{h.dispatch(I.util.prefetch("getSettings",void 0,{force:!0}));const{user:t}=h.getState().auth;return C.get("session_id")||t?M("/"):null},wt=async()=>{if(h.dispatch(I.util.prefetch("getSettings",void 0,{force:!0})),!C.get("session_id"))return M("/auth/login");const a=await h.dispatch(Je.endpoints.verify.initiate());return a.error?(C.remove("session_id"),M("/auth/login")):(a.data&&yt(),null)};async function yt(){h.dispatch(fe.endpoints.getServices.initiate()).unwrap(),h.dispatch(xe.endpoints.getRates.initiate()).unwrap(),h.dispatch(ge.endpoints.getCalendarRates.initiate()).unwrap(),h.dispatch(be.endpoints.getTrucks.initiate()).unwrap(),h.dispatch(je.endpoints.getPackings.initiate()).unwrap(),h.dispatch(ve.endpoints.getExtraServices.initiate()),h.dispatch(we.endpoints.getMoveSizes.initiate()).unwrap(),h.dispatch(ye.endpoints.getEntranceTypes.initiate()).unwrap()}const Nt=[{path:"auth",element:e.jsx(tt,{}),loader:vt,hydrateFallbackElement:e.jsx(G,{}),children:[{index:!0,element:e.jsx(D,{to:"/auth/login"})},{path:"login",element:e.jsx(Qe,{})},{path:"forgot-password",element:e.jsx(Ze,{})},{path:"reset-password",element:e.jsx(et,{})}]}];function St({...t}){return e.jsx(J,{"data-slot":"sheet",...t})}function Ct({...t}){return e.jsx(ae,{"data-slot":"sheet-portal",...t})}function _t({className:t,...a}){return e.jsx(se,{"data-slot":"sheet-overlay",className:d("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",t),...a})}function kt({className:t,children:a,side:s="right",...r}){return e.jsxs(Ct,{children:[e.jsx(_t,{}),e.jsxs(ee,{"data-slot":"sheet-content",className:d("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...r,children:[a,e.jsxs(te,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(ct,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Mt({className:t,...a}){return e.jsx("div",{"data-slot":"sheet-header",className:d("flex flex-col gap-1.5 p-4",t),...a})}function Dt({className:t,...a}){return e.jsx(Q,{"data-slot":"sheet-title",className:d("text-foreground font-semibold",t),...a})}function Et({className:t,...a}){return e.jsx(Z,{"data-slot":"sheet-description",className:d("text-muted-foreground text-sm",t),...a})}const Pt="sidebar_state",Rt=60*60*24*7,At="16rem",Lt="18rem",Tt="3rem",It="b",U=c.createContext(null);function y(){const t=c.useContext(U);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function Ot({defaultOpen:t=!0,open:a,onOpenChange:s,className:r,style:n,children:o,...i}){const u=T(),[x,m]=c.useState(!1),[g,N]=c.useState(t),b=a??g,j=c.useCallback(l=>{const f=typeof l=="function"?l(b):l;s?s(f):N(f),document.cookie=`${Pt}=${f}; path=/; max-age=${Rt}`},[s,b]),v=c.useCallback(()=>u?m(l=>!l):j(l=>!l),[u,j,m]);c.useEffect(()=>{const l=f=>{f.key===It&&(f.metaKey||f.ctrlKey)&&(f.preventDefault(),v())};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[v]);const S=b?"expanded":"collapsed",p=c.useMemo(()=>({state:S,open:b,setOpen:j,isMobile:u,openMobile:x,setOpenMobile:m,toggleSidebar:v}),[S,b,j,u,x,m,v]);return e.jsx(U.Provider,{value:p,children:e.jsx(Ne,{delayDuration:0,children:e.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":At,"--sidebar-width-icon":Tt,...n},className:d("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...i,children:o})})})}function zt({side:t="left",variant:a="sidebar",collapsible:s="offcanvas",className:r,children:n,...o}){const{isMobile:i,state:u,openMobile:x,setOpenMobile:m}=y();return s==="none"?e.jsx("div",{"data-slot":"sidebar",className:d("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...o,children:n}):i?e.jsxs(St,{open:x,onOpenChange:m,...o,children:[e.jsxs(Mt,{className:"sr-only",children:[e.jsx(Dt,{children:"Sidebar"}),e.jsx(Et,{children:"Displays the mobile sidebar."})]}),e.jsx(kt,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":Lt},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:n})})]}):e.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?s:"","data-variant":a,"data-side":t,"data-slot":"sidebar",children:[e.jsx("div",{className:d("relative h-svh w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",a==="floating"||a==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),e.jsx("div",{className:d("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",a==="floating"||a==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:e.jsx("div",{"data-sidebar":"sidebar",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:n})})]})}function Bt({className:t,onClick:a,...s}){const{toggleSidebar:r}=y();return e.jsxs(O,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:d("",t),onClick:n=>{a==null||a(n),r()},...s,children:[e.jsx(ut,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function qt({className:t,...a}){const{toggleSidebar:s}=y();return e.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:d("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...a})}function Kt({className:t,...a}){return e.jsx("main",{"data-slot":"sidebar-inset",className:d("bg-background relative flex min-h-svh flex-1 flex-col","peer-data-[variant=inset]:min-h-[calc(100svh-(--spacing(4)))] md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",t),...a})}function Ft({className:t,...a}){return e.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:d("flex flex-col gap-2 p-2",t),...a})}function Ht({className:t,...a}){return e.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:d("flex flex-col gap-2 p-2",t),...a})}function Gt({className:t,...a}){return e.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:d("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...a})}function Ut({className:t,...a}){return e.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:d("relative flex w-full min-w-0 flex-col p-2",t),...a})}function $({className:t,...a}){return e.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:d("flex w-full min-w-0 flex-col gap-1",t),...a})}function V({className:t,...a}){return e.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:d("group/menu-item relative",t),...a})}const $t=re("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function W({asChild:t=!1,isActive:a=!1,variant:s="default",size:r="default",tooltip:n,className:o,...i}){const u=t?ne:"button",{isMobile:x,state:m}=y(),g=e.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":a,className:d($t({variant:s,size:r}),o),...i});return n?(typeof n=="string"&&(n={children:n}),e.jsxs(Se,{children:[e.jsx(Ce,{asChild:!0,children:g}),e.jsx(_e,{side:"right",align:"center",hidden:m!=="collapsed"||x,...n})]})):g}function Vt({items:t}){const a=le(),{setOpenMobile:s,isMobile:r}=y(),n=k();function o(i){r&&s(!1),n(i,{replace:!0})}return e.jsx(Ut,{children:e.jsx($,{children:t.map(i=>e.jsx(V,{children:e.jsxs(W,{tooltip:i.title,isActive:a.pathname===`/crm/${i.url}`,onClick:()=>o(i.url),children:[i.icon&&e.jsx(i.icon,{}),e.jsx("span",{children:i.title})]})},i.title))})})}const Wt=()=>{const t=E(at);return c.useMemo(()=>({user:t}),[t])};function R(){const{user:t}=Wt(),a=k(),[s,{isLoading:r}]=st();return e.jsx($,{children:e.jsx(V,{children:e.jsxs(z,{modal:!1,children:[e.jsx(B,{asChild:!0,children:e.jsxs(W,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[e.jsx(ke,{className:"h-8 w-8 rounded-md",children:e.jsxs(Me,{className:"rounded-md bg-foreground text-background",children:[t==null?void 0:t.first_name[0],t==null?void 0:t.last_name[0]]})}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsxs("span",{className:"truncate font-semibold",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),e.jsx("span",{className:"truncate text-xs",children:t==null?void 0:t.email_address})]}),e.jsx(pt,{className:"ml-auto size-4"})]})}),e.jsx(q,{align:"end",sideOffset:4,children:e.jsxs(K,{onClick:async()=>{await s().unwrap(),a("/auth/login")},disabled:r,children:[e.jsx(ht,{}),"Log out"]})})]})})})}const Yt=[{title:"Requests",url:"requests",icon:mt},{title:"Dispatch",url:"dispatch",icon:ft},{title:"Settings",url:"settings",icon:xt},{title:"Messages",url:"messages",icon:F}];function Xt({...t}){return e.jsxs(zt,{collapsible:"icon",...t,children:[e.jsx(Ft,{children:e.jsx(R,{})}),e.jsx(Gt,{children:e.jsx(Vt,{items:Yt})}),e.jsx(Ht,{children:e.jsx(R,{})}),e.jsx(qt,{})]})}function Jt(){const t=k(),[a,{isLoading:s}]=De(),{data:r}=Ee(),n=r==null?void 0:r.filter(i=>i.enabled);async function o(i){const u=await a({service_id:i}).unwrap();t(`/dashboard/requests/${u.id}`)}return e.jsxs(z,{children:[e.jsx(B,{asChild:!0,children:e.jsx(nt,{loading:s,disabled:s||(n==null?void 0:n.length)===0,children:e.jsxs("span",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"hidden md:inline-flex",children:"Create Request"}),e.jsx("span",{className:"inline-flex md:hidden",children:"New"}),e.jsx(gt,{className:"size-5"})]})})}),e.jsx(q,{className:"w-56",children:e.jsx(rt,{children:n==null?void 0:n.map((i,u)=>e.jsx(K,{className:"cursor-pointer",onClick:()=>o(i.id),children:i.name},u))})})]})}function Qt({className:t,...a}){return e.jsx(_,{"data-slot":"command",className:d("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...a})}function Zt({title:t="Command Palette",description:a="Search for a command to run...",children:s,...r}){return e.jsxs(Pe,{...r,children:[e.jsxs(Re,{className:"sr-only",children:[e.jsx(Ae,{children:t}),e.jsx(Le,{children:a})]}),e.jsx(Te,{className:"overflow-hidden p-0",children:e.jsx(Qt,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:s})})]})}function ea({className:t,isLoading:a,...s}){return e.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[a?e.jsx(it,{className:"size-4 shrink-0 opacity-50"}):e.jsx(H,{className:"size-4 shrink-0 opacity-50"}),e.jsx(_.Input,{"data-slot":"command-input",className:d("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...s})]})}function ta({className:t,...a}){return e.jsx(_.List,{"data-slot":"command-list",className:d("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...a})}function A({...t}){return e.jsx(_.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}const Y=L.create({baseURL:"http://localhost:3001/api/v1",withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}});Y.interceptors.response.use(t=>t,t=>{var a,s;if(L.isAxiosError(t)){const r=((s=(a=t.response)==null?void 0:a.data)==null?void 0:s.error)||"An unexpected error occurred.";P.error(r)}else P.error("Network error. Please try again.");return Promise.reject(t)});const aa=500,sa="k",na=({item:t,onSelect:a})=>e.jsx("div",{className:"cursor-pointer px-4 py-2 text-sm transition-colors hover:bg-muted",onClick:a,children:Object.keys(t.data).map(s=>{const r=t.data[s],n=t.highlighting[s];return e.jsxs("div",{className:"grid grid-cols-[7rem_1fr] items-center leading-6",children:[e.jsxs("span",{className:"capitalize text-muted-foreground",children:[s.replace("_"," "),":"]}),n?e.jsx("span",{dangerouslySetInnerHTML:{__html:n}}):e.jsx("span",{children:r})]},s)})});function ra(){const t=k(),a=T(),[s,r]=c.useState(!1),[n,o]=c.useState(""),[i,u]=c.useState([]),[x,m]=c.useState(!1),[g,N]=c.useState(null),b=c.useCallback(async p=>{if(!p.trim()){u([]),m(!1);return}try{const l=await Y.get(`/search?query=${encodeURIComponent(p)}`);u(l.data),N(null)}catch(l){console.error(l),u([]),N("Failed to fetch search results")}finally{m(!1)}},[]),j=c.useCallback(ie(aa,b,{atBegin:!1}),[b]),v=p=>{m(!0),o(p),j(p)},S=p=>{r(!1),t(`/dashboard/requests/${p}`)};return c.useEffect(()=>{const p=l=>{l.key===sa&&(l.metaKey||l.ctrlKey)&&(l.preventDefault(),r(f=>!f))};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(O,{onClick:()=>r(!0),variant:"outline",size:a?"icon":"default",children:[e.jsx(H,{}),e.jsx("span",{className:"hidden md:block",children:"Search anything..."}),e.jsxs("kbd",{className:"pointer-events-none hidden h-5 select-none items-center gap-0.5 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100 md:flex",children:[e.jsx("span",{className:"text-xs",children:"⌘"}),"K"]})]}),e.jsxs(Zt,{open:s,onOpenChange:r,children:[e.jsx(ea,{isLoading:x,placeholder:"Search anything",value:n,onValueChange:v}),e.jsxs(ta,{className:"max-h-[470px]",children:[g&&e.jsx(A,{children:g}),!g&&i.length<1&&e.jsx(A,{children:"No results found."}),e.jsx("div",{className:"divide-y",children:i.map((p,l)=>e.jsx(na,{item:p,onSelect:()=>S(p.data.id)},`${p.data.id}-${l}`))})]})]})]})}function ia(){return e.jsx("div",{className:"relative",children:e.jsxs(ce,{to:"/crm/messages",className:({isActive:t})=>d(ot({variant:t?"secondary":"outline",size:"icon"})),children:[e.jsx(F,{}),e.jsx("span",{className:"sr-only",children:"Messages"})]})})}function X(){const t=C.get("sidebar_state")!=="false";return e.jsxs(Ot,{defaultOpen:t,children:[e.jsx(Xt,{}),e.jsx(oa,{})]})}function oa(){return e.jsxs(Kt,{className:"overflow-hidden",children:[e.jsx("header",{className:"flex h-16 w-full items-center border-b bg-background px-4",children:e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"-ml-1"}),e.jsx(Ie,{orientation:"vertical",className:"mr-2 h-4"}),e.jsx(Jt,{}),e.jsx(ra,{})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ia,{}),e.jsx(dt,{})]})]})}),e.jsx("div",{className:"h-[calc(100svh-4rem)] overflow-hidden",children:e.jsx(ue,{})})]})}function da({allowedRoles:t,children:a}){const s=E(r=>r.auth.user);return s&&t.includes(s.role)?a:e.jsx(D,{to:"/auth/login",replace:!0})}const la={path:"/crm",loader:wt,element:e.jsx(da,{allowedRoles:["admin","manager"],children:e.jsx(X,{})}),hydrateFallbackElement:e.jsx(G,{}),children:[{index:!0,element:e.jsx(D,{to:"/crm/requests",replace:!0})},{path:"requests",element:e.jsx(Oe,{})},{path:"dispatch",element:e.jsx("div",{children:"Dispatch"})},{path:"settings",element:e.jsx(We,{}),children:[{path:"services",element:e.jsx(ze,{})},{path:"extra-services",element:e.jsx(Be,{})},{path:"packing",element:e.jsx(qe,{})},{path:"trucks",element:e.jsx(Ke,{})},{path:"rates",element:e.jsx(Fe,{})},{path:"calendar-rates",element:e.jsx(He,{})},{path:"department",element:e.jsx(Ue,{}),children:[{path:":id",element:e.jsx(Ge,{})}]},{path:"company",element:e.jsx($e,{})},{path:"calculator",element:e.jsx(Ve,{})}]},{path:"messages",element:e.jsx("div",{children:"Messages"})}]},ca={editDeposit:()=>e.jsx("div",{children:"edit deposit"}),editMoveSize:()=>e.jsx("div",{children:"edit deposit"}),editPacking:()=>e.jsx("div",{children:"edit deposit"}),extraStop:()=>e.jsx("div",{children:"edit deposit"}),closeRequest:()=>e.jsx("div",{children:"edit deposit"})};function ua(){const t=Ye(),{currentModal:a}=E(n=>n.modal),s=()=>{t(Xe())};if(!a)return null;const r=ca[a];return r?e.jsx(r,{onClose:s}):null}const pa=pe([{path:"/",element:e.jsxs("div",{className:"flex flex-col gap-10",children:["Hello world!",e.jsx(w,{to:"/auth/login",children:"Login"}),e.jsx(w,{to:"/crm",children:"crm"}),e.jsx(w,{to:"/account",children:"account"}),e.jsx(w,{to:"/testing",children:"testing"}),e.jsx(w,{to:"/schedule",children:"schedule"})]}),errorElement:e.jsx(bt,{})},{path:"/account",element:e.jsx(jt,{})},{path:"/crm",element:e.jsx(X,{})},...Nt,la]);function ha(){return e.jsx(me,{store:h,children:e.jsxs(lt,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:[e.jsx(he,{router:pa}),e.jsx(oe,{position:"top-center",richColors:!0}),e.jsx(ua,{})]})})}de.createRoot(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsx(ha,{})}));
